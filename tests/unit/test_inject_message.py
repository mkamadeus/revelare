import numpy as np
from revelare.steganography import inject_message

sample_image = np.array(
    [
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
    ]
)
sample_message = ""
sample_target = np.array(
    [
        [[254, 254, 254], [254, 254, 254], [254, 254, 254]],
        [[254, 254, 254], [254, 254, 254], [254, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
        [[255, 255, 255], [255, 255, 255], [255, 255, 255]],
    ]
)


def test_inject_message():
    result = inject_message(sample_image, sample_message)
    assert np.testing.assert_array_equal(result, sample_target) is None
